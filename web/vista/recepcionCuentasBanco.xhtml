<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns   = "http://www.w3.org/1999/xhtml"
      xmlns:h = "http://java.sun.com/jsf/html" 
      xmlns:p = "http://primefaces.org/ui"
      xmlns:f = "http://java.sun.com/jsf/core">

    <h:head>
      <title>Sistema_Fiduciario</title>
      <meta http-equiv="Conten-Type" content = "text/html; charset=UTF-8" />
      <meta http-equiv="Conten-Type-Options" content = "nosniff" />
      <meta http-equiv="X-XSS-Protection" content = "1" />
      <meta http-equiv="Cache-control" content = "No-Store" />
      <meta http-equiv="Cache-control" content = "No-Cache"/>
      <meta http-equiv = "expires"                            content         = "43200"/> 
        <link rel ="stylesheet" type = "text/css" href  = "../vista/recursos/css/cssGral.css"/>
        <script type = "text/javascript" src = "../vista/recursos/js/validador.js"/>
    </h:head>
    <h:body>
        <h:form id = "frmRecepcionCuentasBanco">
            <p:idleMonitor                                      binding         = "#{mbIdleMonitor.idleMntr}"
                                                                rendered        = "true">
                <p:ajax                                         event           = "idle"
                                                                listener        = "#{mbIdleMonitor.idleMonitor_onIdle}"/>
                <p:ajax                                         event           = "active"
                                                                listener        = "#{mbIdleMonitor.idleMonitor_onActive}"/>
            </p:idleMonitor>
            <p:growl                                            autoUpdate      = "true"
                                                                showDetail      = "true"
                                                                showSummary     = "true"
                                                                life            = "5000"/>
            <p:ajaxStatus                                       onstart         = "dlgAjaxStatus.show();"
                                                                oncomplete      = "dlgAjaxStatus.hide();"/>
            <p:panel id="basic" header="Instrucciones de Fideicomisos - Monetarias de Recepción">
                <p:panelGrid id = "panelCaptura" style = "margin-left: auto; margin-right: auto;" styleClass = "bordePanel">
                    <p:row>
                        <p:column>
                            <br/>    
                        </p:column>   
                    </p:row>
                    <p:row>
                        <p:column style = "background-color: #F2F5F9;">
                            <h:outputLabel value = "Fideicomiso:"/>
                        </p:column>
                        <p:column>
                            <h:inputText disabled = "true" 
                                         value = "#{mbRecepcionCuentasBanco.fideicomiso}" 
                                         style = "text-align: center;"/>
                        </p:column>

                        <p:column style = "background-color: #F2F5F9;">
                            <h:outputLabel value = "SubFiso:"/>
                        </p:column>
                        <p:column>
                            <h:inputText id = "txtBienFideCtoSub" 
                                         disabled = "true" 
                                         value = "#{mbRecepcionCuentasBanco.subFideicomiso}" 
                                         style = "text-align:center;" />
                        </p:column>

                        <p:column colspan="2">
                            <h:inputText disabled = "true" 
                                         value = "#{mbRecepcionCuentasBanco.contrato}" 
                                         style = "text-align: center;"/>
                        </p:column>
                    </p:row>
                    <p:row>
                        <p:column>
                            <br/>    
                        </p:column>   
                    </p:row>
                    <p:row>
                        <p:column                               style           = "background-color: #F2F5F9;
                                                                                   ">
                            <h:outputLabel                      value           = "Folio de la Instrucción:"/>
                        </p:column>
                        
                        <p:column>
                            <h:inputText                        value           = "#{mbRecepcionCuentasBanco.folioInst}"
                                                                autocomplete    = "off"
                                                                maxlength       = "3"
                                                                size            = "5"
                                                                disabled        = "true"
                                                                style           = "text-align: center;"/>
                        </p:column>

                        <p:column colspan="4">
 
                            <p:commandButton  id="buttonScotiabank"
                                              style="margin-left: 70%" 
                                              icon = "ui-icon-circle-plus" 
                                              value = "Scotiabank"  
                                              
                                              actionListener="#{mbRecepcionCuentasBanco.onInicializa_movto()}"
                                              disabled="#{mbRecepcionCuentasBanco.scotiabankButton}"
                                              update="dtMonitorMovimientos,dtDatosMonitorCheque,dtCtasSaldo" />   

                        </p:column>   
                    </p:row>
                    <p:row>
                        <p:column>
                            <br/>    
                        </p:column>   
                    </p:row>
                    <p:row>
                        <p:column style = "background-color: #F2F5F9;">
                            <h:outputLabel value = "Destino de la Recepción:"/>
                        </p:column>
                        <p:column  >
                            <h:selectOneMenu  id="selectDestinoRecepcion" 
                                              value = "#{mbRecepcionCuentasBanco.destinoRecepcionSelected}">
                                <f:selectItem itemLabel = "--Seleccionar--" itemValue = ""/>
                                <f:selectItems value = "#{mbRecepcionCuentasBanco.listDestinoRecepcion}" 
                                               var="clave" 
                                               itemLabel="#{clave.claveDescripcion}" 
                                               itemValue="#{clave.claveNumero}"/>
                            </h:selectOneMenu>
                        </p:column>
                        <p:column style = "background-color: #F2F5F9;">
                            <h:outputLabel value = "Con I.V.A."/>
                        </p:column>
                        <p:column>
                            <h:selectBooleanCheckbox id="checkIva" 
                                                     value="#{mbRecepcionCuentasBanco.checkIva}">
                                <p:ajax  listener = "#{mbRecepcionCuentasBanco.calculaIva}" 
                                         update = ":frmRecepcionCuentasBanco:txtIvaRecepciones,
                                         :frmRecepcionCuentasBanco:txtImporteRecepcion,
                                         checkIva,
                                         :frmRecepcionCuentasBanco:dtDatosMonitorCheque"/>
                            </h:selectBooleanCheckbox>
                        </p:column>
                        <p:column style = "background-color: #F2F5F9;">
                            <h:outputLabel value = "Importe Recepción:"/>
                        </p:column>
                        <p:column>
                            <h:inputText disabled = "true" 
                                         id ="txtImporteRecepcionGral" 
                                         value="#{mbRecepcionCuentasBanco.importeRecepcion}"
                                         style = "text-align: center;">
                                <f:convertNumber pattern="¤#,##0.00" currencySymbol="$" />
                            </h:inputText>
                        </p:column>
                    </p:row>
                    <p:row>
                        <p:column>
                            <br/>    
                        </p:column>   
                    </p:row>
                    <p:row>
                        <p:column style = "background-color: #F2F5F9;">
                            <h:outputLabel value = "Fecha de Contabilización de la Recepción:"/>
                        </p:column>
                        <p:column style="text-align: center;">
                            <h:inputText  disabled = "true" 
                                          value = "#{mbRecepcionCuentasBanco.fechaContabilizacionRecepcion.fechaActDia} / #{mbRecepcionCuentasBanco.fechaContabilizacionRecepcion.fechaActMes} / #{mbRecepcionCuentasBanco.fechaContabilizacionRecepcion.fechaActAño}"
                                          style="text-align: center;">
                            </h:inputText>
                            DD/MM/YYYY
                        </p:column>
                        <p:column style = "background-color: #F2F5F9;">
                            <h:outputLabel value = "Forma de Recepción:"/>
                        </p:column>
                        <p:column  >
                            <h:selectOneMenu id="selectFormaRecepcion" value="#{mbRecepcionCuentasBanco.formaRecepcionSelected}" disabled="true">
                                 <f:selectItem                   itemLabel       = "..."
                                                                itemValue       = ""/>

                                <f:selectItems value = "#{mbRecepcionCuentasBanco.listFormaRecepcion}" 
                                               var="clave" 
                                               itemLabel="#{clave.claveDescripcion}" 
                                               itemValue="#{clave.claveNumero}"/>                         
                            </h:selectOneMenu>
                        </p:column>
                        <p:column style = "background-color: #F2F5F9;">
                            <h:outputLabel value = "Moneda:"/>
                        </p:column>
                        <p:column  >
                            <h:selectOneMenu id="selectMoneda" value="#{mbRecepcionCuentasBanco.monedaSelected}">
                                <f:selectItems value = "#{mbRecepcionCuentasBanco.listMoneda}" 
                                               var="moneda" 
                                               itemLabel="#{moneda.monedaNombre}" 
                                               itemValue="#{moneda.monedaNumero}"/>
                                <p:ajax  listener = "#{mbRecepcionCuentasBanco.monedaChangeListener()}" 
                                         update = "txtNombre, dlgTipoCambio,dlgMonitorMovimientos,buttonScotiabank,txtTipoCambio0,txtTipoCambio1,panelCaptura"/>
                            </h:selectOneMenu>
                        </p:column>
                    </p:row>
                    <p:row >
                        <p:column colspan="4">
                            <br/>    
                        </p:column>   
                        <p:column>
                            <h:outputLabel id="txtTipoCambio0" value = "Tipo de Cambio:" style= "background-color: #F2F5F9; visibility: #{mbRecepcionCuentasBanco.tcVisible}"  />
                        </p:column>
                        <p:column>
                            <p:inputText id="txtTipoCambio1" value="#{mbRecepcionCuentasBanco.tipoCambio}" readonly="true"  style = "text-align: center;visibility: #{mbRecepcionCuentasBanco.tcVisible}"></p:inputText>               
                        </p:column>
                    </p:row>
                    <p:row>
                        <p:column>
                            <br/>    
                        </p:column>   
                    </p:row>
                    <p:row>
                        <p:column style = "background-color: #F2F5F9;">
                            <h:outputLabel value = "Tipo de Persona:"/>
                        </p:column>
                        <p:column  >
                            <h:selectOneMenu id="cboTipoPersona" 
                                             value="#{mbRecepcionCuentasBanco.tipoPersonaSelected}" 
                                             style="width: 100%">
                                <f:selectItem itemLabel = "--Seleccionar--" itemValue = ""/>
                                <f:selectItems value = "#{mbRecepcionCuentasBanco.listTipoPersona}" 
                                               var="clave" 
                                               itemLabel="#{clave.claveDescripcion}" 
                                               itemValue="#{clave.claveNumero}"/>        
                                <p:ajax  listener = "#{mbRecepcionCuentasBanco.nombreChangeListener}" 
                                         update = "txtNombre"/>
                            </h:selectOneMenu>
                        </p:column>
                        <p:column style = "background-color: #F2F5F9;">
                            <h:outputLabel value = "Nombre:"/>
                        </p:column>
                        <p:column colspan="4" >
                            <h:selectOneMenu id="txtNombre"   
                                             value="#{mbRecepcionCuentasBanco.nombreSelected}" >
                                <f:selectItem itemLabel = "--Seleccionar--"  itemValue = ""/>
                                <f:selectItems value = "#{mbRecepcionCuentasBanco.listNombre}" 
                                               var="nombre" 
                                               itemValue="#{nombre.beneficiarioNumero}"
                                               itemLabel="#{nombre.beneficiarioNombre}"/>
                            </h:selectOneMenu>
                        </p:column>
                        <p:column />
                    </p:row>     
                    <p:row>
                        <p:column>
                            <br/>    
                        </p:column>   
                    </p:row>

                    <p:row>
                        <p:column colspan="6">
                            <p:dataTable id="dtDatosMonitorCheque" 
                                         value="#{mbRecepcionCuentasBanco.responseMonitorBean}" 
                                         var="lmc" 
                                         emptyMessage="Sin Registros"  
                                         paginator = "true"
                                         paginatorPosition = "bottom"
                                         style = "overflow: scroll;">
                                <p:column headerText = "Tipo de operación" style = "width: 5%;">
                                    <center>
                                        <h:outputLabel value = "#{lmc.tipoOperacionDesc}"/>
                                    </center>
                                </p:column>
                                <p:column headerText = "Banco" style = "width: 5%;">
                                    <center>
                                        <h:outputLabel value = "#{lmc.banco}"/>
                                    </center>
                                </p:column>
                                <p:column headerText = "Plaza" style = "width: 5%;">
                                    <center>
                                        <h:outputLabel value = "#{lmc.plaza}"/>
                                    </center>
                                </p:column>
                                <p:column headerText = "Cuenta" style = "width: 5%;">
                                    <center>
                                        <h:outputLabel value = "#{lmc.cuenta}"/>
                                    </center>
                                </p:column>
                                <p:column headerText = "Recepción" style = "width: 5%;">
                                    <center>
                                        <h:outputLabel value = "#{lmc.recepcion}"/>
                                    </center>
                                </p:column>
                                <p:column headerText = "Importe" style = "width: 5%;">
                                    <center>
                                        <h:outputLabel value = "#{lmc.montoFormat}">
                                            <f:convertNumber pattern="¤#,##0.00" currencySymbol="$" />
                                        </h:outputLabel>
                                    </center>
                                </p:column>
                                <p:column headerText = "Moneda" style = "width: 5%;">
                                    <center>
                                        <h:outputLabel value = "#{lmc.moneda}"/>
                                    </center>
                                </p:column>
                                <p:column headerText = "Núm. Mda" style = "width: 5%;">
                                    <center>
                                        <h:outputLabel value = "#{lmc.adcNumMoneda}"/>
                                    </center>
                                </p:column>
                                <p:column headerText = "Tipo de cambio" style = "width: 5%;">
                                    <center>
                                        <h:outputLabel value = "#{lmc.tipoCambio}">
                                            <f:convertNumber pattern="¤#,##0.00" currencySymbol="$" />
                                        </h:outputLabel>
                                    </center>
                                </p:column>
                                <p:column headerText = "Tipo" style = "width: 5%;">
                                    <center>
                                        <h:outputLabel value = ""/>
                                    </center>
                                </p:column>
                                <p:column headerText = "I.V.A." style = "width: 5%;">
                                    <center>
                                        <h:outputLabel value = "#{lmc.iva}">
                                            <f:convertNumber pattern="¤#,##0.00" currencySymbol="$" />
                                        </h:outputLabel>
                                    </center>
                                </p:column>
                                <p:column headerText = "Confirmación" style = "width: 5%;">
                                    <center>
                                        <h:outputLabel value = "#{lmc.confirmacion}"/>
                                    </center>
                                </p:column>

                            </p:dataTable>
                        </p:column>   
                    </p:row>


                    <p:row>
                        <p:column>
                            <br/>    
                        </p:column>   
                    </p:row>
                    <p:row>
                        <p:column style = "background-color: #F2F5F9;">
                            <h:outputLabel value = "Importe de Recepciones:"/>
                        </p:column>
                        <p:column>
                            <h:inputText  id = "txtImporteRecepcion" 
                                          disabled = "true" 
                                          value="#{mbRecepcionCuentasBanco.importeRecepcionIVA}" 
                                          style = "text-align: center;">
                                <f:convertNumber pattern="¤#,##0.00" currencySymbol="$" />
                            </h:inputText>
                        </p:column>

                        <p:column style = "background-color: #F2F5F9;">
                            <h:outputLabel value = "I.V.A. Recepciones:"/>
                        </p:column>
                        <p:column>
                            <h:inputText id = "txtIvaRecepciones" 
                                         disabled="true"
                                         value="#{mbRecepcionCuentasBanco.iva}"
                                         style = "text-align:center;" >
                                <f:convertNumber pattern="¤#,##0.00" currencySymbol="$" />
                            </h:inputText>
                        </p:column>

                        <p:column style = "background-color: #F2F5F9;">
                            <h:outputLabel value = "Total de Recepciones:"/>
                        </p:column>
                        <p:column>
                            <h:inputText  id = "txtTotalRecepciones" 
                                          disabled="true" 
                                          value="#{mbRecepcionCuentasBanco.importeRecepcion}" 
                                          style = "text-align: center;">
                                <f:convertNumber pattern="¤#,##0.00" currencySymbol="$" />
                            </h:inputText>
                        </p:column> 
                    </p:row>
                    <p:row>
                        <p:column>
                            <br/>    
                        </p:column>   
                    </p:row>
                    <p:row>
                        <p:column style = "background-color: #F2F5F9;">
                            <h:outputLabel value = "Banco:"/>
                        </p:column>
                        <p:column  >
                            <h:selectOneMenu  value = "#{mbRecepcionCuentasBanco.bancoSelected}">
                                <f:selectItem itemLabel = "--Seleccionar--" itemValue = ""/>
                                <f:selectItems value = "#{mbRecepcionCuentasBanco.listViewCuentaBanco}" 
                                               var="clave" 
                                               itemLabel="#{clave.cuenta} / #{clave.descClave}" 
                                               itemValue="#{clave.banco}"/>
                                <p:ajax  listener = "#{mbRecepcionCuentasBanco.bancoChangeListener}" 
                                         update = ":frmRecepcionCuentasBanco:txtNumeroSucursal,
                                         :frmRecepcionCuentasBanco:txtNombreSucursal,
                                         :frmRecepcionCuentasBanco:txtMonedaSucursal"/>
                            </h:selectOneMenu>
                        </p:column>
                        <p:column style = "background-color: #F2F5F9;">
                            <h:outputLabel value = "Número de Sucursal:"/>
                        </p:column>
                        <p:column>
                            <h:inputText  disabled = "true" 
                                          id="txtNumeroSucursal"
                                          value = "#{mbRecepcionCuentasBanco.viewCuentaBanco.sucursal}" 
                                          style = "text-align: center; width: 20%; margin-right: 15px;"/>
                            <h:inputText  disabled = "true" 
                                          id="txtNombreSucursal"
                                          value = "#{mbRecepcionCuentasBanco.viewCuentaBanco.descClave}" 
                                          style = "text-align: center; width: 74% !important; "/>
                        </p:column>
                        <p:column style = "background-color: #F2F5F9;">
                            <h:outputLabel value = "Moneda:"/>
                        </p:column>
                        <p:column>
                            <h:inputText disabled = "true" 
                                         id="txtMonedaSucursal"
                                         value = "#{mbRecepcionCuentasBanco.viewCuentaBanco.nomMoneda}"
                                         style = "text-align: center;"/>
                        </p:column>
                    </p:row>
                    <p:row>
                        <p:column>
                            <br/>    
                        </p:column>
                    </p:row>
                    <p:row>
                        <p:column style = "background-color: #F2F5F9;">
                            <h:outputLabel value = "Referencia:"/>
                        </p:column>
                        <p:column>
                            <h:inputText  disabled = "true"  
                                          id="inputReferencia" 
                                          value="#{mbRecepcionCuentasBanco.referencia}" 
                                          style = "text-align: center;"/>
                        </p:column>
                    </p:row>

                </p:panelGrid>
            </p:panel>

            <p:row>
                <p:column>
                    <br/>    
                </p:column>
                <p:column>
                    <center>
                        <p:commandButton value = "Aceptar" 
                                         actionListener="#{mbRecepcionCuentasBanco.guardaRecepcionCuenta}" 
                                         icon = "ui-icon-check" />
                        <p:commandButton style = "margin-left:15px;"
                                         value = "Cancelar" 
                                         action="#{mbRecepcionCuentasBanco.onMonetariasLiquidacion_Terminar()}" 
                                         icon = "ui-icon-cancel" />
                    </center>
                </p:column>

            </p:row>


           <p:dialog header="Monitor de Movimientos" id="dlgMonitorMovimientos" widgetVar="dlgMonitorMovimientos"  draggable="false" resizable="false" modal="true" closable="false" width="800" height="450">
                <center>
                    <h:panelGrid border="0" columns="8" cellpadding="4" styleClass="ui-widget-content" >
                        <h:outputLabel value="Fideicomiso:" style = "display : block; color : blue; font-family: sans-serif; font-size  : small;  font-weight: bolder; margin-left: 15px;"/>
                        <h:outputText  value="#{mbRecepcionCuentasBanco.monitorChequesBean.contrato}" />
                        <h:outputLabel value="Moneda:" style = "display : block; color : blue; font-family: sans-serif; font-size  : small;  font-weight: bolder; margin-left: 15px;"/>
                        <h:outputText  value="#{mbRecepcionCuentasBanco.monitorChequesBean.nombreMoneda}" />
                        <h:outputLabel value="Fecha:" style = "display : block; color : blue; font-family: sans-serif; font-size  : small;  font-weight: bolder; margin-left: 15px;"/>
                        <h:outputText  value="#{mbRecepcionCuentasBanco.monitorChequesBean.fecha}" />
                    </h:panelGrid>
                </center>
                <h:outputText value="&lt;br/&gt;" escape="false" />
                <p:dataTable id="dtMonitorMovimientos" 
                             scrollable="true" 
                             scrollHeight="260" 
                             value="#{mbRecepcionCuentasBanco.responses}"
                             var="response" 
                             rowKey="#{response}" 
                             rows="10"  
                             paginator="true" 
                             paginatorPosition="bottom" 
                             paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {NextPageLink} {LastPageLink}" 
                             currentPageReportTemplate="{startRecord}-{endRecord} de {totalRecords} registros" 
                             emptyMessage="Sin registros">  
                    <p:ajax event="rowSelectRadio" listener="#{mbRecepcionCuentasBanco.onRowSelect}" update=":frmRecepcionCuentasBanco:dlgCopiar"/>
                    <p:column selectionMode="single" style="width:16px;text-align:center"/> 
                    <p:column headerText="Confirmación" styleClass="centeredColumnContent" width="100"><h:outputText value="#{response.confirmacion}"/></p:column>
                    <p:column headerText="Referencia" styleClass="centeredColumnContent" width="80"><h:outputText value="#{response.referencia}"/></p:column>
                    <p:column headerText="Tipo Movimiento" styleClass="leftColumnContent" width="120"><h:outputText value="#{response.descripcion}" /></p:column>
                    <p:column headerText="Importe" styleClass="rightColumnContent" width="100"><h:outputText value="#{response.montoFormat}"/></p:column>
                    <p:column headerText="Status" styleClass="centeredColumnContent" width="100"><p:graphicImage value="#{response.estatus}" width="20" height="20" /></p:column>
                    <p:column headerText="Cuenta" styleClass="centeredColumnContent" width="100"><h:outputText value="#{response.cuenta}"/></p:column>
                </p:dataTable>
                <br/>
                <p:dataTable id="dtCtasSaldo" 
                             scrollable="false" 
                             value="#{mbRecepcionCuentasBanco.ctasSaldos}"
                             var="response1" 
                             rowKey="#{response1}" 
                             rows="3"  
                             paginator="true" 
                             paginatorPosition="bottom" 
                             paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {NextPageLink} {LastPageLink}" 
                             currentPageReportTemplate="{startRecord}-{endRecord} de {totalRecords} registros" 
                             emptyMessage="Sin registros">  
                    <p:column headerText="Número de Cuenta" styleClass="centeredColumnContent" width="25"> <h:outputText value="#{response1.ctaNumero}"/></p:column>
                    <p:column headerText="Saldo de Cuenta"  width="25"><h:outputText value="#{response1.ctaSaldo}"> <f:convertNumber pattern = "$####,###,###,###,##0.00" /> </h:outputText></p:column>
                </p:dataTable>
                <br/>
                <h:outputText value="&lt;br/&gt;" escape="false" />
                <center>
                    <h:panelGrid border="0" columns="4" cellpadding="4" styleClass="ui-widget-content" >
                        <h:outputLabel value="APLICADO" style = "display : block; color : black; font-family: sans-serif; font-size  : small;  font-weight: bolder; margin-left: 15px;"/>
                        <p:graphicImage value="/vista/recursos/img/png/green_circle.png" width="25" height="25" />
                        <h:outputLabel value="NO APLICADO" style = "display : block; color : black; font-family: sans-serif; font-size  : small;  font-weight: bolder; margin-left: 15px;"/>
                        <p:graphicImage value="/vista/recursos/img/png/red_circle.png" width="25" height="25" />
                    </h:panelGrid>
                </center>
                <f:facet name="footer">
                    <center>
                        <h:panelGrid border="0" columns="2" cellpadding="4" columnClasses="firstButtom, firstButtom">
                            <p:commandButton value="Movimientos" icon="ui-icon-check" actionListener="#{mbRecepcionCuentasBanco.getMonitorMovements}" update=":frmRecepcionCuentasBanco:dtMonitorMovimientos, :frmRecepcionCuentasBanco:dtCtasSaldo"/>
                            <p:commandButton value="Salir" icon="ui-icon-cancel" actionListener="#{mbRecepcionCuentasBanco.cleanMonitorMovements}" oncomplete="dlgMonitorMovimientos.hide()" update=":frmRecepcionCuentasBanco:dtMonitorMovimientos" />
                        </h:panelGrid>
                    </center>
                </f:facet> 
            </p:dialog>
            <h:outputText value="&lt;br/&gt;" escape="false" />
           
            <p:confirmDialog header="Copiar Movimiento" id="dlgCopiar" widgetVar="dlgCopiar" message="¿Está seguro de copiar el movimiento seleccionado?"  closable="false">
                <p:panelGrid style = "margin-left: auto; margin-right: auto;" styleClass = "bordePanel">
                    <p:row>
                        <p:column style = "background-color: #F2F5F9;">
                            <h:outputLabel value = "Referencia: "/>
                        </p:column>
                        <p:column>
                            <h:inputText  disabled = "true"  
                                          id="CMReferencia" 
                                          value="#{mbRecepcionCuentasBanco.referenciaTmp}"/>
                        </p:column>
                    </p:row>
                    <p:row>
                        <p:column style = "background-color: #F2F5F9;">
                            <h:outputLabel value = "Importe: "/>
                        </p:column>
                        <p:column>
                            <h:inputText  disabled = "true"  
                                          id="CMImporte" 
                                          value="#{mbRecepcionCuentasBanco.importeRecepcionTmp}">
                            <f:convertNumber       pattern          = "$####,###,###,###,##0.00" />
                           </h:inputText>
                        </p:column>
                    </p:row>
                </p:panelGrid>
                <center>
                <p:commandButton title="Acepta copiar el movimiento" value="Si" icon="ui-icon-check" actionListener="#{mbRecepcionCuentasBanco.SiSelectCopiarMovimiento}"
                                 oncomplete="dlgCopiar.hide();dlgMonitorMovimientos.hide();"
                                 update=":frmRecepcionCuentasBanco:dtDatosMonitorCheque, 
                                 frmRecepcionCuentasBanco:txtImporteRecepcionGral,
                                 frmRecepcionCuentasBanco:txtImporteRecepcion, 
                                 frmRecepcionCuentasBanco:txtTotalRecepciones,
                                 frmRecepcionCuentasBanco:inputReferencia,
                                 frmRecepcionCuentasBanco:selectFormaRecepcion,
                                 frmRecepcionCuentasBanco:txtIvaRecepciones" />
                <p:commandButton title="Cancela copiar el movimiento" value="No" icon="ui-icon-close" actionListener="#{mbRecepcionCuentasBanco.NoSelectCopiarMovimiento}" oncomplete="dlgCopiar.hide()" 
                                 update=":frmRecepcionCuentasBanco:dtDatosMonitorCheque, 
                                 frmRecepcionCuentasBanco:txtImporteRecepcionGral,
                                 frmRecepcionCuentasBanco:txtImporteRecepcion, 
                                 frmRecepcionCuentasBanco:txtTotalRecepciones,
                                 frmRecepcionCuentasBanco:inputReferencia,
                                 frmRecepcionCuentasBanco:selectFormaRecepcion,
                                 frmRecepcionCuentasBanco:txtIvaRecepciones"/>
                </center>
            </p:confirmDialog>
            
            <h:outputText value="&lt;br/&gt;" escape="false" />
            
            <p:confirmDialog header="Copiar Movimiento" id="dlgAplicado" widgetVar="dlgAplicado" message="El movimiento ya ha sido aplicado" closable="false">
                <p:commandButton title="Movimiento Aplicado" value="Cerrar" icon="ui-icon-check" oncomplete="dlgAplicado.hide()"  />
            </p:confirmDialog>
            <h:outputText value="&lt;br/&gt;" escape="false" /> 
           
            <p:dialog id="dlgSPExito" header="Detalle del resguardo"  widgetVar="dlgSPExito" width="40%" resizable="false" closable="false" modal="true">  
                <br/>
                <p:panelGrid style = "margin-left: auto; margin-right: auto;" styleClass = "bordePanel">
                    <p:row>
                        <p:column style = "font-weight: bold;">
                            <h:outputLabel value = "Depósito aplicado correctamente, el número de folio es: #{mbRecepcionCuentasBanco.folioContable}. Fecha y hora de la  aplicación es: #{mbRecepcionCuentasBanco.fechaAplicacion}"/>
                        </p:column>
                    </p:row>
                    <p:row>
                        <p:column colspan="6">
                            <p:commandButton value = "Aceptar"  
                                             action="#{mbRecepcionCuentasBanco.onMonetariasLiquidacion_Terminar()}"
                                             icon = "ui-icon-check" style="margin-left: 50%"/>
                        </p:column>
                    </p:row>
                </p:panelGrid>
            </p:dialog>  

            <p:dialog                                           id              = "dlgAjaxStatus"
                                                                closable        = "false"
                                                                header          = "Espere"
                                                                modal           = "true"
                                                                resizable       = "false"
                                                                style           = "background-color: #eee;
                                                                height          : auto;
                                                                width           : auto;"
                                                                widgetVar       = "dlgAjaxStatus">
                <center>
                    <p:graphicImage                             value           = "../vista/recursos/img/gif/000.gif" />
                </center>
            </p:dialog>
            <p:dialog header="Tipo de Cambio" id="dlgTipoCambio" widgetVar="dlgTipoCambio" draggable="false" resizable="false" modal="true" closable="false" width="400" height="160"> 
                <h:panelGrid border="0" columns="2" cellpadding="4" columnClasses="firstColumn, secondColumn, thirdColumn, fourColumn">
                    <h:outputLabel value = "Tipo de Cambio a Moneda Nacional:" />
                    <p:inputText id="txtTipoCambio" value="#{mbRecepcionCuentasBanco.tipoCambio}" readonly="true" styleClass="inputNumber"  maxlength="5" onkeypress="if((event.which &lt; 48 || event.which &gt; 57)  &amp;&amp; (event.keyCode != 46)) return false;"></p:inputText>               
                    <h:outputLabel value = "Moneda Fiduciario:" />
                    <p:inputText id="txtMoneda" value="#{mbRecepcionCuentasBanco.monSelecionada.monedaNombre}" readonly="true" styleClass="inputNumber"  maxlength="5" onkeypress="if(event.which &lt; 48 || event.which &gt; 57)  return false;"></p:inputText>               
                    <h:outputLabel value = "Fecha Valor:" /> 
                    <p:inputText id="txtFechaValorTipoCambio" value="#{mbRecepcionCuentasBanco.fechaContabilizacionRecepcion.fechaActDia} / #{mbRecepcionCuentasBanco.fechaContabilizacionRecepcion.fechaActMes} / #{mbRecepcionCuentasBanco.fechaContabilizacionRecepcion.fechaActAño}" readonly="true" styleClass="inputNumber"  maxlength="5"></p:inputText>
                </h:panelGrid>
                <center>
                    <h:panelGrid columns="2" cellpadding="4" columnClasses="firstButtom, secondButtom">
                        <p:commandButton value="Aceptar"  icon="ui-icon-check" actionListener="#{mbRecepcionCuentasBanco.cierra_dlgTipoCambio()}" disabled="false"/>
                    </h:panelGrid>
                </center>  
            </p:dialog>
        </h:form>
    </h:body>

</html>
